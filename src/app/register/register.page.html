<ion-content [fullscreen]="true">

  <h1 style="text-align: center; margin-top: 50px;">SkeletonAPP</h1>
  <p style="text-align: center; margin-bottom: 100px;">Aquí comienza todo</p>

  <h3 style="text-align: center; margin-bottom: 15px;">¡Regístrate!</h3>

  <div style="max-width: 400px; margin: 0 auto;">
    <form [formGroup]="registerForm" (ngSubmit)="registrar()">

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Usuario</mat-label>
        <input matInput formControlName="usuario" />
        <mat-error *ngIf="registerForm.get('usuario')?.hasError('required')">
          El usuario es obligatorio
        </mat-error>
        <mat-error *ngIf="registerForm.get('usuario')?.hasError('minlength')">
          Debe tener al menos 3 caracteres
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="nombre" />
        <mat-error *ngIf="registerForm.get('nombre')?.hasError('required')">
          El nombre es obligatorio
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Apellido Paterno</mat-label>
        <input matInput formControlName="apellidoPaterno" />
        <mat-error *ngIf="registerForm.get('apellidoPaterno')?.hasError('required')">
          El apellido paterno es obligatorio
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Apellido Materno</mat-label>
        <input matInput formControlName="apellidoMaterno" />
        <mat-error *ngIf="registerForm.get('apellidoMaterno')?.hasError('required')">
          El apellido materno es obligatorio
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Dirección</mat-label>
        <input matInput formControlName="direccion" />
        <mat-error *ngIf="registerForm.get('direccion')?.hasError('required')">
          La dirección es obligatoria
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Comuna</mat-label>
        <input matInput formControlName="comuna" />
        <mat-error *ngIf="registerForm.get('comuna')?.hasError('required')">
          La comuna es obligatoria
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Región</mat-label>
        <input matInput formControlName="region" />
        <mat-error *ngIf="registerForm.get('region')?.hasError('required')">
          La región es obligatoria
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" type="email" />
        <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
          El email es obligatorio
        </mat-error>
        <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
          Debe ser un email válido
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 100%;">
        <mat-label>Contraseña</mat-label>
        <input matInput formControlName="password" type="password" />
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
          La contraseña es obligatoria
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
          Debe tener al menos 4 caracteres
        </mat-error>
      </mat-form-field>

      <ion-button expand="block" style="flex: 1; margin-bottom: 10px;" type="submit"
        [disabled]="cargando || registerForm.invalid">
        <ng-container *ngIf="cargando; else textoBoton">
          <ion-spinner name="dots"></ion-spinner>
        </ng-container>
        <ng-template #textoBoton>
          Crear cuenta
        </ng-template>
      </ion-button>

      <ion-text style="display: block; text-align: center; margin-bottom: 80px;">
        <ion-button fill="clear" (click)="goToLogin()">Iniciar sesión</ion-button>
      </ion-text>

    </form>
  </div>
</ion-content>